create database mpdb character set utf8 collate utf8_hungarian_ci;

create table users (
	user_id int(6) auto_increment,
	user_name varchar(30) not null,
	user_email varchar(50) not null,
	user_password varchar(32) not null,
	user_reg_date datetime,
	user_last_login datetime,
	user_level int(1),
	user_deleted int(1),
	primary key (user_id)
);

create table categories (
	category_id int(6) auto_increment,
	category_name varchar(20) not null,
	category_deleted int(1) not null,
	user_id int(6),
	primary key (category_id),
	foreign key (user_id) references users(user_id)
);

create table transactions (
	trans_id int(8) auto_increment,
	trans_direction int(1),
	trans_value int(20),
	trans_date datetime,
	trans_comment varchar(255),
	trans_deleted int(1),
	category_id int(6),
	user_id int(6),
	primary key (trans_id),
	constraint fk_user foreign key (user_id) references users(user_id),
	constraint fk_category foreign key (category_id) references categories(category_id)
);